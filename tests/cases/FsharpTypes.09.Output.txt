namespace Domain
open Protokeep.FsharpTypes
type Score = {
    S1 : int
    S2 : int
}
with
    member x.ItemValues () =
        [| x.S1; x.S2 |]
    member x.ItemIndexes () =
        [| Key.Value "1"; Key.Value "2" |]
    member x.Item = function
        | Key.Value "1" -> Some x.S1
        | Key.Value "2" -> Some x.S2
        | _ -> None
    member x.WithItems (items:Map<Key,_>) =
        {x with
            S1 = items.TryFind(Key.Value "1") |> Option.defaultValue x.S1
            S2 = items.TryFind(Key.Value "2") |> Option.defaultValue x.S2
        }
